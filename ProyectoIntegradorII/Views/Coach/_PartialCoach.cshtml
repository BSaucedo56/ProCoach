@model IEnumerable<ProyectoIntegradorII.Models.ECoach>

@{
    Pager pager = new Pager();

    int pageNo = 0;
    int e = ViewBag.esp;
    int co = ViewBag.coc;
    int m = ViewBag.met;
    int i = ViewBag.idi;

    if(ViewBag.Pager != null)
    {
        pager = ViewBag.Pager;
        pageNo = pager.CurrentPage;
    }
}

<table class="table table-light border rounded">
    <thead >
        <tr>
            <th class="thcoach11">
                @Html.DisplayNameFor(model => model.coach)
            </th>
            <th class="thcoach12">
                @Html.DisplayNameFor(model => model.especialidad)
            </th>
            <th class="thcoach13">
                @Html.DisplayNameFor(model => model.certificacionICF)
            </th>
            <th class="thcoach14">
                @Html.DisplayNameFor(model => model.metodoCoaching)
            </th>
            <th class="thcoach15">
                @Html.DisplayNameFor(model => model.idioma)
            </th>
            <th class="thcoach16">
                @Html.DisplayNameFor(model => model.pais)
            </th>
            <th>
                
            </th>
            <th>
                
            </th>
        </tr>
    </thead>
    <tbody>
@foreach (var item in Model) {
        <tr>
            <td class="thcoach21">
                @Html.DisplayFor(modelItem => item.coach)
            </td>
            <td class="thcoach22">
                @Html.DisplayFor(modelItem => item.especialidad)
            </td >
            <td class="thcoach23">
                @Html.DisplayFor(modelItem => item.certificacionICF)
            </td>
            <td class="thcoach24">
                @Html.DisplayFor(modelItem => item.metodoCoaching)
            </td>
            <td class="thcoach25">
                @Html.DisplayFor(modelItem => item.idioma)
            </td>
            <td class="thcoach26">
                @Html.DisplayFor(modelItem => item.pais)
            </td>
            <td>
                @Html.ActionLink("Info", "InfoParcial", new { id=item.idCoach }, new  {@class = "infCoach"})
            </td>
            <td>
                @Html.ActionLink("Solicitar", "Solicitar", new { id=item.idCoach }, new  {@class = "solicoach"})
            </td>
        </tr>
}
    </tbody>
</table>

<div class="container" style="margin-top:-10px; margin-right:-12px;">
    @if(pager.TotalPages>0)
    {
        <ul class="pagination justify-content-end">
        
            @if (pager.CurrentPage > 1)
            {
                <li class="page-item">
                    <a class="page-link" asp-controller="Coach" asp-action="EncontrarCoaches" asp-route-pag="1" asp-route-e="@(e=ViewBag.esp)" asp-route-co="@(co=ViewBag.coc)" asp-route-m="@(m=ViewBag.met)" asp-route-i="@(i=ViewBag.idi)">Primero</a>
                </li>
                <li>
                    <a class="page-link" asp-controller="Coach" asp-action="EncontrarCoaches" asp-route-pag="@(pager.CurrentPage - 1)" asp-route-e="@(e=ViewBag.esp)" asp-route-co="@(co=ViewBag.coc)" asp-route-m="@(m=ViewBag.met)" asp-route-i="@(i=ViewBag.idi)">&lt;</a>
                </li>
            }

            @for (var pge = pager.StartPage; pge <= pager.EndPage; pge++)
            {
                <li class="page-item @(pge == pager.CurrentPage ? "active" : "")">
                    <a class="page-link" asp-controller="Coach" asp-action="EncontrarCoaches" asp-route-pag="@pge" asp-route-e="@(e=ViewBag.esp)" asp-route-co="@(co=ViewBag.coc)" asp-route-m="@(m=ViewBag.met)" asp-route-i="@(i=ViewBag.idi)">@pge</a>
                </li>
            }

            @if(pager.CurrentPage < pager.TotalPages)
            {
                <li class="page-item">
                    <a class="page-link" asp-controller="Coach" asp-action="EncontrarCoaches" asp-route-pag="@(pager.CurrentPage+1)" asp-route-e="@(e=ViewBag.esp)" asp-route-co="@(co=ViewBag.coc)" asp-route-m="@(m=ViewBag.met)" asp-route-i="@(i=ViewBag.idi)">&gt;</a>
                </li>
                <li>
                    <a class="page-link" asp-controller="Coach" asp-action="EncontrarCoaches" asp-route-pag="@(pager.TotalPages)" asp-route-e="@(e=ViewBag.esp)" asp-route-co="@(co=ViewBag.coc)" asp-route-m="@(m=ViewBag.met)" asp-route-i="@(i=ViewBag.idi)">Último</a>
                </li>
            }
        </ul>    
    }
</div>